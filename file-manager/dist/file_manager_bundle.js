(function(){"use strict";var N,p,e_,P,t_,n_,r_,o_,O,z,G,T={},l_=[],F_=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,U=Array.isArray;function S(e,_){for(var t in _)e[t]=_[t];return e}function V(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function E_(e,_,t){var r,l,n,i={};for(n in _)n=="key"?r=_[n]:n=="ref"?l=_[n]:i[n]=_[n];if(arguments.length>2&&(i.children=arguments.length>3?N.call(arguments,2):t),typeof e=="function"&&e.defaultProps!=null)for(n in e.defaultProps)i[n]===void 0&&(i[n]=e.defaultProps[n]);return D(e,i,r,l,null)}function D(e,_,t,r,l){var n={type:e,props:_,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:l??++e_,__i:-1,__u:0};return l==null&&p.vnode!=null&&p.vnode(n),n}function A(e){return e.children}function B(e,_){this.props=e,this.context=_}function F(e,_){if(_==null)return e.__?F(e.__,e.__i+1):null;for(var t;_<e.__k.length;_++)if((t=e.__k[_])!=null&&t.__e!=null)return t.__e;return typeof e.type=="function"?F(e):null}function i_(e){var _,t;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,_=0;_<e.__k.length;_++)if((t=e.__k[_])!=null&&t.__e!=null){e.__e=e.__c.base=t.__e;break}return i_(e)}}function c_(e){(!e.__d&&(e.__d=!0)&&P.push(e)&&!L.__r++||t_!=p.debounceRendering)&&((t_=p.debounceRendering)||n_)(L)}function L(){for(var e,_,t,r,l,n,i,u=1;P.length;)P.length>u&&P.sort(r_),e=P.shift(),u=P.length,e.__d&&(t=void 0,r=void 0,l=(r=(_=e).__v).__e,n=[],i=[],_.__P&&((t=S({},r)).__v=r.__v+1,p.vnode&&p.vnode(t),K(_.__P,t,r,_.__n,_.__P.namespaceURI,32&r.__u?[l]:null,n,l??F(r),!!(32&r.__u),i),t.__v=r.__v,t.__.__k[t.__i]=t,h_(n,t,i),r.__e=r.__=null,t.__e!=l&&i_(t)));L.__r=0}function u_(e,_,t,r,l,n,i,u,f,c,a){var o,h,s,b,w,k,d,v=r&&r.__k||l_,x=_.length;for(f=T_(t,_,v,f,x),o=0;o<x;o++)(s=t.__k[o])!=null&&(h=s.__i==-1?T:v[s.__i]||T,s.__i=o,k=K(e,s,h,l,n,i,u,f,c,a),b=s.__e,s.ref&&h.ref!=s.ref&&(h.ref&&Q(h.ref,null,s),a.push(s.ref,s.__c||b,s)),w==null&&b!=null&&(w=b),(d=!!(4&s.__u))||h.__k===s.__k?f=f_(s,f,e,d):typeof s.type=="function"&&k!==void 0?f=k:b&&(f=b.nextSibling),s.__u&=-7);return t.__e=w,f}function T_(e,_,t,r,l){var n,i,u,f,c,a=t.length,o=a,h=0;for(e.__k=new Array(l),n=0;n<l;n++)(i=_[n])!=null&&typeof i!="boolean"&&typeof i!="function"?(f=n+h,(i=e.__k[n]=typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?D(null,i,null,null,null):U(i)?D(A,{children:i},null,null,null):i.constructor==null&&i.__b>0?D(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=e,i.__b=e.__b+1,u=null,(c=i.__i=C_(i,t,f,o))!=-1&&(o--,(u=t[c])&&(u.__u|=2)),u==null||u.__v==null?(c==-1&&(l>a?h--:l<a&&h++),typeof i.type!="function"&&(i.__u|=4)):c!=f&&(c==f-1?h--:c==f+1?h++:(c>f?h--:h++,i.__u|=4))):e.__k[n]=null;if(o)for(n=0;n<a;n++)(u=t[n])!=null&&(2&u.__u)==0&&(u.__e==r&&(r=F(u)),d_(u,u));return r}function f_(e,_,t,r){var l,n;if(typeof e.type=="function"){for(l=e.__k,n=0;l&&n<l.length;n++)l[n]&&(l[n].__=e,_=f_(l[n],_,t,r));return _}e.__e!=_&&(r&&(_&&e.type&&!_.parentNode&&(_=F(e)),t.insertBefore(e.__e,_||null)),_=e.__e);do _=_&&_.nextSibling;while(_!=null&&_.nodeType==8);return _}function C_(e,_,t,r){var l,n,i,u=e.key,f=e.type,c=_[t],a=c!=null&&(2&c.__u)==0;if(c===null&&e.key==null||a&&u==c.key&&f==c.type)return t;if(r>(a?1:0)){for(l=t-1,n=t+1;l>=0||n<_.length;)if((c=_[i=l>=0?l--:n++])!=null&&(2&c.__u)==0&&u==c.key&&f==c.type)return i}return-1}function s_(e,_,t){_[0]=="-"?e.setProperty(_,t??""):e[_]=t==null?"":typeof t!="number"||F_.test(_)?t:t+"px"}function W(e,_,t,r,l){var n,i;_:if(_=="style")if(typeof t=="string")e.style.cssText=t;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(_ in r)t&&_ in t||s_(e.style,_,"");if(t)for(_ in t)r&&t[_]==r[_]||s_(e.style,_,t[_])}else if(_[0]=="o"&&_[1]=="n")n=_!=(_=_.replace(o_,"$1")),i=_.toLowerCase(),_=i in e||_=="onFocusOut"||_=="onFocusIn"?i.slice(2):_.slice(2),e.l||(e.l={}),e.l[_+n]=t,t?r?t.u=r.u:(t.u=O,e.addEventListener(_,n?G:z,n)):e.removeEventListener(_,n?G:z,n);else{if(l=="http://www.w3.org/2000/svg")_=_.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(_!="width"&&_!="height"&&_!="href"&&_!="list"&&_!="form"&&_!="tabIndex"&&_!="download"&&_!="rowSpan"&&_!="colSpan"&&_!="role"&&_!="popover"&&_ in e)try{e[_]=t??"";break _}catch{}typeof t=="function"||(t==null||t===!1&&_[4]!="-"?e.removeAttribute(_):e.setAttribute(_,_=="popover"&&t==1?"":t))}}function a_(e){return function(_){if(this.l){var t=this.l[_.type+e];if(_.t==null)_.t=O++;else if(_.t<t.u)return;return t(p.event?p.event(_):_)}}}function K(e,_,t,r,l,n,i,u,f,c){var a,o,h,s,b,w,k,d,v,x,H,j,C,P_,q,M,__,$=_.type;if(_.constructor!=null)return null;128&t.__u&&(f=!!(32&t.__u),n=[u=_.__e=t.__e]),(a=p.__b)&&a(_);_:if(typeof $=="function")try{if(d=_.props,v="prototype"in $&&$.prototype.render,x=(a=$.contextType)&&r[a.__c],H=a?x?x.props.value:a.__:r,t.__c?k=(o=_.__c=t.__c).__=o.__E:(v?_.__c=o=new $(d,H):(_.__c=o=new B(d,H),o.constructor=$,o.render=N_),x&&x.sub(o),o.props=d,o.state||(o.state={}),o.context=H,o.__n=r,h=o.__d=!0,o.__h=[],o._sb=[]),v&&o.__s==null&&(o.__s=o.state),v&&$.getDerivedStateFromProps!=null&&(o.__s==o.state&&(o.__s=S({},o.__s)),S(o.__s,$.getDerivedStateFromProps(d,o.__s))),s=o.props,b=o.state,o.__v=_,h)v&&$.getDerivedStateFromProps==null&&o.componentWillMount!=null&&o.componentWillMount(),v&&o.componentDidMount!=null&&o.__h.push(o.componentDidMount);else{if(v&&$.getDerivedStateFromProps==null&&d!==s&&o.componentWillReceiveProps!=null&&o.componentWillReceiveProps(d,H),!o.__e&&o.shouldComponentUpdate!=null&&o.shouldComponentUpdate(d,o.__s,H)===!1||_.__v==t.__v){for(_.__v!=t.__v&&(o.props=d,o.state=o.__s,o.__d=!1),_.__e=t.__e,_.__k=t.__k,_.__k.some(function(E){E&&(E.__=_)}),j=0;j<o._sb.length;j++)o.__h.push(o._sb[j]);o._sb=[],o.__h.length&&i.push(o);break _}o.componentWillUpdate!=null&&o.componentWillUpdate(d,o.__s,H),v&&o.componentDidUpdate!=null&&o.__h.push(function(){o.componentDidUpdate(s,b,w)})}if(o.context=H,o.props=d,o.__P=e,o.__e=!1,C=p.__r,P_=0,v){for(o.state=o.__s,o.__d=!1,C&&C(_),a=o.render(o.props,o.state,o.context),q=0;q<o._sb.length;q++)o.__h.push(o._sb[q]);o._sb=[]}else do o.__d=!1,C&&C(_),a=o.render(o.props,o.state,o.context),o.state=o.__s;while(o.__d&&++P_<25);o.state=o.__s,o.getChildContext!=null&&(r=S(S({},r),o.getChildContext())),v&&!h&&o.getSnapshotBeforeUpdate!=null&&(w=o.getSnapshotBeforeUpdate(s,b)),M=a,a!=null&&a.type===A&&a.key==null&&(M=p_(a.props.children)),u=u_(e,U(M)?M:[M],_,t,r,l,n,i,u,f,c),o.base=_.__e,_.__u&=-161,o.__h.length&&i.push(o),k&&(o.__E=o.__=null)}catch(E){if(_.__v=null,f||n!=null)if(E.then){for(_.__u|=f?160:128;u&&u.nodeType==8&&u.nextSibling;)u=u.nextSibling;n[n.indexOf(u)]=null,_.__e=u}else{for(__=n.length;__--;)V(n[__]);J(_)}else _.__e=t.__e,_.__k=t.__k,E.then||J(_);p.__e(E,_,t)}else n==null&&_.__v==t.__v?(_.__k=t.__k,_.__e=t.__e):u=_.__e=M_(t.__e,_,t,r,l,n,i,f,c);return(a=p.diffed)&&a(_),128&_.__u?void 0:u}function J(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(J)}function h_(e,_,t){for(var r=0;r<t.length;r++)Q(t[r],t[++r],t[++r]);p.__c&&p.__c(_,e),e.some(function(l){try{e=l.__h,l.__h=[],e.some(function(n){n.call(l)})}catch(n){p.__e(n,l.__v)}})}function p_(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:U(e)?e.map(p_):S({},e)}function M_(e,_,t,r,l,n,i,u,f){var c,a,o,h,s,b,w,k=t.props,d=_.props,v=_.type;if(v=="svg"?l="http://www.w3.org/2000/svg":v=="math"?l="http://www.w3.org/1998/Math/MathML":l||(l="http://www.w3.org/1999/xhtml"),n!=null){for(c=0;c<n.length;c++)if((s=n[c])&&"setAttribute"in s==!!v&&(v?s.localName==v:s.nodeType==3)){e=s,n[c]=null;break}}if(e==null){if(v==null)return document.createTextNode(d);e=document.createElementNS(l,v,d.is&&d),u&&(p.__m&&p.__m(_,n),u=!1),n=null}if(v==null)k===d||u&&e.data==d||(e.data=d);else{if(n=n&&N.call(e.childNodes),k=t.props||T,!u&&n!=null)for(k={},c=0;c<e.attributes.length;c++)k[(s=e.attributes[c]).name]=s.value;for(c in k)if(s=k[c],c!="children"){if(c=="dangerouslySetInnerHTML")o=s;else if(!(c in d)){if(c=="value"&&"defaultValue"in d||c=="checked"&&"defaultChecked"in d)continue;W(e,c,null,s,l)}}for(c in d)s=d[c],c=="children"?h=s:c=="dangerouslySetInnerHTML"?a=s:c=="value"?b=s:c=="checked"?w=s:u&&typeof s!="function"||k[c]===s||W(e,c,s,k[c],l);if(a)u||o&&(a.__html==o.__html||a.__html==e.innerHTML)||(e.innerHTML=a.__html),_.__k=[];else if(o&&(e.innerHTML=""),u_(_.type=="template"?e.content:e,U(h)?h:[h],_,t,r,v=="foreignObject"?"http://www.w3.org/1999/xhtml":l,n,i,n?n[0]:t.__k&&F(t,0),u,f),n!=null)for(c=n.length;c--;)V(n[c]);u||(c="value",v=="progress"&&b==null?e.removeAttribute("value"):b!=null&&(b!==e[c]||v=="progress"&&!b||v=="option"&&b!=k[c])&&W(e,c,b,k[c],l),c="checked",w!=null&&w!=e[c]&&W(e,c,w,k[c],l))}return e}function Q(e,_,t){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&_==null||(e.__u=e(_))}else e.current=_}catch(l){p.__e(l,t)}}function d_(e,_,t){var r,l;if(p.unmount&&p.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||Q(r,null,_)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(n){p.__e(n,_)}r.base=r.__P=null}if(r=e.__k)for(l=0;l<r.length;l++)r[l]&&d_(r[l],_,t||typeof e.type!="function");t||V(e.__e),e.__c=e.__=e.__e=void 0}function N_(e,_,t){return this.constructor(e,t)}function U_(e,_,t){var r,l,n,i;_==document&&(_=document.documentElement),p.__&&p.__(e,_),l=(r=!1)?null:_.__k,n=[],i=[],K(_,e=_.__k=E_(A,null,[e]),l||T,T,_.namespaceURI,l?null:_.firstChild?N.call(_.childNodes):null,n,l?l.__e:_.firstChild,r,i),h_(n,e,i)}N=l_.slice,p={__e:function(e,_,t,r){for(var l,n,i;_=_.__;)if((l=_.__c)&&!l.__)try{if((n=l.constructor)&&n.getDerivedStateFromError!=null&&(l.setState(n.getDerivedStateFromError(e)),i=l.__d),l.componentDidCatch!=null&&(l.componentDidCatch(e,r||{}),i=l.__d),i)return l.__E=l}catch(u){e=u}throw e}},e_=0,B.prototype.setState=function(e,_){var t;t=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=S({},this.state),typeof e=="function"&&(e=e(S({},t),this.props)),e&&S(t,e),e!=null&&this.__v&&(_&&this._sb.push(_),c_(this))},B.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),c_(this))},B.prototype.render=A,P=[],n_=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,r_=function(e,_){return e.__v.__b-_.__v.__b},L.__r=0,o_=/(PointerCapture)$|Capture$/i,O=0,z=a_(!1),G=a_(!0);var D_=0;function y(e,_,t,r,l,n){_||(_={});var i,u,f=_;if("ref"in f)for(u in f={},_)u=="ref"?i=_[u]:f[u]=_[u];var c={type:e,props:f,key:t,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--D_,__i:-1,__u:0,__source:l,__self:n};if(typeof e=="function"&&(i=e.defaultProps))for(u in i)f[u]===void 0&&(f[u]=i[u]);return p.vnode&&p.vnode(c),c}var I,m,X,v_,Y=0,m_=[],g=p,y_=g.__b,g_=g.__r,b_=g.diffed,k_=g.__c,w_=g.unmount,$_=g.__;function S_(e,_){g.__h&&g.__h(m,e,Y||_),Y=0;var t=m.__H||(m.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({}),t.__[e]}function A_(e){return Y=1,B_(H_,e)}function B_(e,_,t){var r=S_(I++,2);if(r.t=e,!r.__c&&(r.__=[H_(void 0,_),function(u){var f=r.__N?r.__N[0]:r.__[0],c=r.t(f,u);f!==c&&(r.__N=[c,r.__[1]],r.__c.setState({}))}],r.__c=m,!m.__f)){var l=function(u,f,c){if(!r.__c.__H)return!0;var a=r.__c.__H.__.filter(function(h){return!!h.__c});if(a.every(function(h){return!h.__N}))return!n||n.call(this,u,f,c);var o=r.__c.props!==u;return a.forEach(function(h){if(h.__N){var s=h.__[0];h.__=h.__N,h.__N=void 0,s!==h.__[0]&&(o=!0)}}),n&&n.call(this,u,f,c)||o};m.__f=!0;var n=m.shouldComponentUpdate,i=m.componentWillUpdate;m.componentWillUpdate=function(u,f,c){if(this.__e){var a=n;n=void 0,l(u,f,c),n=a}i&&i.call(this,u,f,c)},m.shouldComponentUpdate=l}return r.__N||r.__}function L_(e,_){var t=S_(I++,3);!g.__s&&R_(t.__H,_)&&(t.__=e,t.u=_,m.__H.__h.push(t))}function W_(){for(var e;e=m_.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(R),e.__H.__h.forEach(Z),e.__H.__h=[]}catch(_){e.__H.__h=[],g.__e(_,e.__v)}}g.__b=function(e){m=null,y_&&y_(e)},g.__=function(e,_){e&&_.__k&&_.__k.__m&&(e.__m=_.__k.__m),$_&&$_(e,_)},g.__r=function(e){g_&&g_(e),I=0;var _=(m=e.__c).__H;_&&(X===m?(_.__h=[],m.__h=[],_.__.forEach(function(t){t.__N&&(t.__=t.__N),t.u=t.__N=void 0})):(_.__h.forEach(R),_.__h.forEach(Z),_.__h=[],I=0)),X=m},g.diffed=function(e){b_&&b_(e);var _=e.__c;_&&_.__H&&(_.__H.__h.length&&(m_.push(_)!==1&&v_===g.requestAnimationFrame||((v_=g.requestAnimationFrame)||I_)(W_)),_.__H.__.forEach(function(t){t.u&&(t.__H=t.u),t.u=void 0})),X=m=null},g.__c=function(e,_){_.some(function(t){try{t.__h.forEach(R),t.__h=t.__h.filter(function(r){return!r.__||Z(r)})}catch(r){_.some(function(l){l.__h&&(l.__h=[])}),_=[],g.__e(r,t.__v)}}),k_&&k_(e,_)},g.unmount=function(e){w_&&w_(e);var _,t=e.__c;t&&t.__H&&(t.__H.__.forEach(function(r){try{R(r)}catch(l){_=l}}),t.__H=void 0,_&&g.__e(_,t.__v))};var x_=typeof requestAnimationFrame=="function";function I_(e){var _,t=function(){clearTimeout(r),x_&&cancelAnimationFrame(_),setTimeout(e)},r=setTimeout(t,35);x_&&(_=requestAnimationFrame(t))}function R(e){var _=m,t=e.__c;typeof t=="function"&&(e.__c=void 0,t()),m=_}function Z(e){var _=m;e.__c=e.__(),m=_}function R_(e,_){return!e||e.length!==_.length||_.some(function(t,r){return t!==e[r]})}function H_(e,_){return typeof _=="function"?_(e):_}const j_=e=>{if(e===0)return"0 B";const _=["B","KB","MB","GB","TB"],t=Math.floor(Math.log(e)/Math.log(1024));return`${parseFloat((e/Math.pow(1024,t)).toFixed(2))} ${_[t]}`};U_(y(()=>{const[e,_]=A_([]),t=()=>{fetch("/list").then(n=>n.json()).then(n=>_(n))};L_(()=>{t()},[]);const r=n=>{n.preventDefault();const i=n.target.querySelector('input[type="file"]');if(!i.files[0]){alert("Please select a file to upload.");return}const u=new FormData(n.target);fetch(`/upload?filename=${i.files[0].name}`,{method:"POST",body:u}).then(f=>{f.ok?(t(),n.target.reset()):alert("Upload failed.")})},l=n=>{confirm(`Are you sure you want to delete ${n}?`)&&fetch(`/delete?file=${n}`,{method:"POST"}).then(i=>{i.ok?t():alert("Delete failed.")})};return y("div",{children:[y("h2",{children:"Upload File"}),y("form",{onSubmit:r,children:[y("input",{type:"file",name:"file"}),y("button",{type:"submit",class:"action-button",children:"Upload"})]}),y("h2",{children:"Existing Files"}),y("table",{class:"file-list",children:[y("thead",{children:y("tr",{children:[y("th",{children:"Filename"}),y("th",{children:"Size"}),y("th",{children:"Actions"})]})}),y("tbody",{children:e.map(n=>y("tr",{children:[y("td",{children:y("a",{href:`/${n.name}`,download:n.name,children:n.name})}),y("td",{children:j_(n.size)}),y("td",{children:y("button",{class:"action-button",onClick:()=>l(n.name),children:"Delete"})})]},n.name))})]})]})},{}),document.getElementById("app"))})();
